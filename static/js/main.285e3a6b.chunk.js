(this.webpackJsonpmepergunte=this.webpackJsonpmepergunte||[]).push([[0],{32:function(e,t,n){},40:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),c=n(25),s=n.n(c),i=n(7),o=n.n(i),u=n(13),j=n(11),l=n(19),d=(n(32),n(1));function b(e){return Object(d.jsx)("button",Object(l.a)({className:"button"},e))}var p=n(5),h=n(18);n(34),n(36);h.a.initializeApp({apiKey:"AIzaSyAt0XmBfR6ik44aostgEhoC_okBPBWknMY",authDomain:"mepergunte-692d3.firebaseapp.com",databaseURL:"https://mepergunte-692d3-default-rtdb.firebaseio.com",projectId:"mepergunte-692d3",storageBucket:"mepergunte-692d3.appspot.com",messagingSenderId:"351506380962",appId:"1:351506380962:web:31ca9e08e9306172737ffb"});var m=h.a.auth(),O=h.a.database(),f=Object(a.createContext)({});function x(e){var t=Object(a.useState)(),n=Object(j.a)(t,2),r=n[0],c=n[1];function s(){return(s=Object(u.a)(o.a.mark((function e(){var t,n,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.auth.GoogleAuthProvider,e.next=3,m.signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=9;break}if(a=n.user,r=a.displayName,s=a.photoURL,i=a.uid,r&&s){e.next=8;break}throw new Error("Mising information from Google Account");case 8:c({id:i,name:r,avatar:s});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=m.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.photoURL,a=e.uid;if(!t||!n)throw new Error("Mising information from Google Account");c({id:a,name:t,avatar:n})}}));return function(){e()}}),[]),Object(d.jsx)(f.Provider,{value:{user:r,signInWithGoogle:function(){return s.apply(this,arguments)}},children:e.children})}function g(){return Object(a.useContext)(f)}var v=n.p+"static/media/illustration.ae7276f0.svg",w=n.p+"static/media/google-icon.df15d8e5.svg";n(40);function k(){var e=Object(p.f)(),t=g(),n=t.user,r=t.signInWithGoogle,c=Object(a.useState)(""),s=Object(j.a)(c,2),i=s[0],l=s[1];function h(){return(h=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.next=3,r();case 3:e.push("/room/new");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==i.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,O.ref("rooms/".concat(i)).get();case 5:if(t.sent.exists()){t.next=9;break}return alert("This room does not exists"),t.abrupt("return");case 9:e.push("/rooms/".concat(i));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(d.jsxs)("div",{id:"auth-page",children:[Object(d.jsxs)("aside",{children:[Object(d.jsx)("img",{src:v,alt:"Ilustra\xe7\xe3o de perguntas e respostas"}),Object(d.jsx)("strong",{children:"Fa\xe7a sua pergunta"}),Object(d.jsx)("p",{children:"Tire suas d\xfavidas em tempo real"})]}),Object(d.jsx)("main",{children:Object(d.jsxs)("div",{className:"main-content",children:[Object(d.jsxs)("button",{className:"btn-create-room",onClick:function(){return h.apply(this,arguments)},children:[Object(d.jsx)("img",{src:w,alt:"Google Logo"}),"Entre com o google"]}),Object(d.jsx)("div",{className:"separator",children:"Ou entre em uma sala"}),Object(d.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(d.jsx)("input",{onChange:function(e){var t=e.target;return l(t.value)},value:i,type:"text",placeholder:"Digite o c\xf3digo da sala"}),Object(d.jsx)(b,{type:"submit",children:"Entrar na sala!"})]})]})})]})}var y=n(16);function N(){var e=g().user,t=Object(p.f)(),n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1];function i(){return(i=Object(u.a)(o.a.mark((function n(a){var r,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),""!==c.trim()){n.next=3;break}return n.abrupt("return");case 3:return r=O.ref("rooms"),n.next=6,r.push({title:c,authorId:null===e||void 0===e?void 0:e.id});case 6:s=n.sent,t.push("/rooms/".concat(s.key));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(d.jsxs)("div",{id:"auth-page",children:[Object(d.jsxs)("aside",{children:[Object(d.jsx)("img",{src:v,alt:"Ilustra\xe7\xe3o de perguntas e respostas"}),Object(d.jsx)("strong",{children:"Fa\xe7a sua pergunta"}),Object(d.jsx)("p",{children:"Tire suas d\xfavidas em tempo real"})]}),Object(d.jsx)("main",{children:Object(d.jsxs)("div",{className:"main-content",children:[Object(d.jsx)("h2",{children:"Crie uma nova sala"}),Object(d.jsxs)("form",{onSubmit:function(e){return i.apply(this,arguments)},children:[Object(d.jsx)("input",{onChange:function(e){var t=e.target;return s(t.value)},value:c,type:"text",placeholder:"C\xf3digo da sala"}),Object(d.jsx)(b,{type:"submit",children:"Criar sala"})]}),Object(d.jsxs)("p",{children:["Quer entrar em uma sala existente? ",Object(d.jsx)(y.b,{to:"/",children:"Clique aqui"})]})]})})]})}n(48);var S=n.p+"static/media/like.78334eb8.svg";function C(e){return Object(d.jsxs)("div",{className:"question-card-container",children:[Object(d.jsx)("p",{children:e.content}),Object(d.jsxs)("div",{className:"user-info",children:[Object(d.jsxs)("div",{className:"left-content",children:[Object(d.jsx)("img",{src:e.author.avatar,alt:e.author.name}),Object(d.jsx)("span",{children:e.author.name})]}),Object(d.jsxs)("div",{className:"right-content",children:[Object(d.jsx)("span",{children:"1"}),Object(d.jsx)("img",{src:S,alt:"Like icon"})]})]})]})}var I=n.p+"static/media/copy.2f36f99e.svg";n(49);function A(e){return Object(d.jsxs)("button",{onClick:function(){navigator.clipboard.writeText(e.code)},className:"room-code",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:I,alt:"copy"})}),Object(d.jsx)("span",{children:"Sala ".concat(e.code)})]})}n(50);function E(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(j.a)(c,2),i=s[0],h=s[1],m=Object(a.useState)(""),f=Object(j.a)(m,2),x=f[0],v=f[1],w=g().user,k=Object(p.g)().id;function y(){return(y=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.trim()){e.next=3;break}return e.abrupt("return");case 3:if(w){e.next=5;break}throw new Error("You must be logged in");case 5:return a={content:n,author:{name:w.name,avatar:w.avatar},isHighLighted:!1,isAnswered:!1},e.next=8,O.ref("rooms/".concat(k,"/questions")).push(a);case 8:r("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){O.ref("rooms/".concat(k)).on("value",(function(e){var t,n=e.val(),a=null!==(t=n.questions)&&void 0!==t?t:{},r=Object.entries(a).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return{id:n,content:a.content,author:a.author,isHighLighted:a.isHighLighted,isAnswered:a.isAnswered}}));h(r),v(n.title)}))}),[k]),Object(d.jsxs)("div",{id:"room-page",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("p",{children:"LOGO"}),Object(d.jsx)("div",{children:Object(d.jsx)(A,{code:k})})]}),Object(d.jsxs)("main",{className:"content",children:[Object(d.jsxs)("div",{className:"room-title",children:[Object(d.jsx)("h1",{children:x}),i.length>0&&Object(d.jsx)("span",{children:"".concat(i.length," pergunta(s)")})]}),Object(d.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(d.jsx)("textarea",{onChange:function(e){var t=e.target;return r(t.value)},placeholder:"Pergunte",value:n}),Object(d.jsxs)("div",{className:"form-footer",children:[w?Object(d.jsxs)("div",{className:"user-info",children:[Object(d.jsx)("img",{src:w.avatar,alt:w.name}),Object(d.jsx)("span",{children:w.name})]}):Object(d.jsxs)("span",{children:["Para enviar sua pergunta,",Object(d.jsx)("button",{className:"btn-login",children:" fa\xe7a seu login."})]}),Object(d.jsx)(b,{disabled:!w,type:"submit",children:"Enviar sua pergunta"})]})]}),i.map((function(e){return Object(d.jsx)(C,Object(l.a)({},e),e.id)}))]})]})}var L=function(){return Object(d.jsx)(y.a,{children:Object(d.jsx)(p.c,{children:Object(d.jsxs)(x,{children:[Object(d.jsx)(p.a,{exact:!0,path:"/mepergunte",component:k}),Object(d.jsx)(p.a,{exact:!0,path:"/room/new",component:N}),Object(d.jsx)(p.a,{exact:!0,path:"/rooms/:id",component:E})]})})})};n(51);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.285e3a6b.chunk.js.map